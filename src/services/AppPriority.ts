/**
 * 应用排序权重配置
 * 权重越高，排序越靠前
 * 根据用户实际使用习惯调整
 */

export const APP_PRIORITY: Record<string, number> = {
    // ========== 核心入口（95-100）- 系统级入口 ==========
    '教务系统': 100,
    '学工系统': 99,
    '团委系统': 98,

    // ========== 每日必看（85-94）- 刚需高频 ==========
    '学生个人课表': 94,
    '校园一卡通': 93,
    '图书馆': 92,
    '查看成绩': 91,
    '校内考试安排': 90,

    // ========== 预约与资源（80-84）- "抢"资源 ==========
    '座位/研讨间预约': 84,
    '空闲教室': 83,
    '体育场馆预约': 82,
    '学生社区功能室预约': 81,

    // ========== 常用办事（70-79）- 流程申请 ==========
    '学生请假': 79,
    '宿舍报修': 78,
    '宿舍调换': 77,
    '学生证补办申请': 76,
    '勤工助学': 75,

    // ========== 选课与学业事务（60-69）- 季节性功能 ==========
    '选课(按开课计划)': 69,
    '选课结果汇总': 68,
    '申请缓考': 65,
    '创新创业': 64,
    '学生一张表': 63,
    '就业系统': 62,
    '离校系统': 61,

    // ========== 学习平台（50-59）- 保持原样，很整齐 ==========
    '新疆大学网络教学综合平台': 59,
    '超星尔雅网络教学服务平台': 58,
    '新疆大学学堂云一体化平台': 57,
    '智慧树在线教育平台': 56,
    '中国大学MOOC平台': 55,

    // ========== 证明与下载（40-49）- 聚类"文件" ==========
    '本科生学籍证明': 48,
    '本科生在读证明': 47,
    '授课证明下载': 46,
    '学宿费电子票据': 45, // 把票据提到证明类，都是下载文件
    '电子凭证': 44,

    // ========== IT与账号服务（20-39）- 聚类"修电脑/改密码" ==========
    '学生电子邮件系统': 39, // 提权：还是比较常用的
    '实名上网认证账号申请': 35,
    '实名上网认证账号密码复位申请': 34,
    '学生邮箱账号申请': 33,
    '学生邮箱账号激活': 32,
    '邮箱密码复位申请': 31,
    '网络教学综合平台密码复位申请': 30,

    // ========== 新技术与知识（10-19）==========
    'Ai+新大': 19,
    'DeepSeek大模型API申请': 18, // 既然有这个，稍微排高点，很极客
    'CARSI应用资源': 17,
    '知识与帮助': 16,
    '心理健康服务': 15,

    // ========== 低频/其他（0-14）==========
    '填报中心': 14,
    '任务中心': 13,
    '缴费信息': 12,
}

/**
 * 获取应用的排序权重
 */
export function getAppPriority(appName: string): number {
    return APP_PRIORITY[appName] ?? 50 // 未知应用默认权重50
}

/**
 * 应用排序函数
 */
export function sortAppsByPriority(apps: any[]): any[] {
    return apps.sort((a, b) => {
        const priorityA = getAppPriority(a.title)
        const priorityB = getAppPriority(b.title)

        // 优先级高的排在前面
        if (priorityA !== priorityB) {
            return priorityB - priorityA
        }

        // 优先级相同时按名称排序
        return a.title.localeCompare(b.title, 'zh-CN')
    })
}
